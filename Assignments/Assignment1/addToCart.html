<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Dhruv_2210997071</title>
  </head>
  <body>
    <script>
      function applyStyles(element, styles) {
        for (const property in styles) {
          element.style[property] = styles[property];
        }
      }
      function createContainer() {
        const container = document.createElement("div");
        applyStyles(container, {
          maxWidth: "700px",
          margin: "20px auto",
          padding: "10px",
          backgroundColor: "#fff",
          borderRadius: "5px",
          boxShadow: "0 0 12px rgba(0, 0, 0, 0.3)",
        });
        const h1 = document.createElement("h1");
        h1.textContent = "Shopping Items";
        applyStyles(h1, { textAlign: "center" });
        const itemsDiv = document.createElement("div");
        itemsDiv.setAttribute("id", "items");
        applyStyles(itemsDiv, {
          display: "flex",
          flexWrap: "wrap",
          justifyContent: "space-between",
        });
        const cartDiv = document.createElement("div");
        cartDiv.setAttribute("id", "cart");
        applyStyles(cartDiv, {
          border: "1px solid #ccc",
          borderRadius: "5px",
          padding: "10px",
          marginTop: "20px",
        });
        const u = document.createElement("u");
        const h2 = document.createElement("h2");
        h2.textContent = "Cart";
        const h3 = document.createElement("h3");
        h3.textContent = "Item List:";
        const cartItemsUl = document.createElement("ul");
        cartItemsUl.setAttribute("id", "cart-items");
        const totalPriceP = document.createElement("p");
        totalPriceP.setAttribute("id", "total-price");
        u.appendChild(h2);
        u.appendChild(h3);
        cartDiv.appendChild(u);
        cartDiv.appendChild(cartItemsUl);
        cartDiv.appendChild(totalPriceP);
        container.appendChild(h1);
        container.appendChild(itemsDiv);
        container.appendChild(cartDiv);
        document.body.appendChild(container);
      }
      createContainer();
      const itemsContainer = document.getElementById("items");
      let totalPrice = 0;
      const items = [
        { id: 1, name: "iPhone", price: 10000, count: 0, img: "phone.webp" },
        {
          id: 2,
          name: "Google Pixel",
          price: 10000,
          count: 0,
          img: "phone2.jpg",
        },
        {
          id: 3,
          name: "Samsung Galaxy",
          price: 8000,
          count: 0,
          img: "phone3.jpg",
        },
      ];
      items.forEach((element) => {
        const div = document.createElement("div");
        applyStyles(div, {
          width: "30%",
          marginBottom: "20px",
          padding: "10px",
          border: "1px solid #ccc",
          borderRadius: "5px",
          boxShadow: "0 0 7px rgba(0, 0, 0, 0.2)",
        });
        const name = document.createElement("span");
        name.textContent = element.name;
        const btn_div = document.createElement("div");
        btn_div.setAttribute("class", "add_btn");
        const cntt = document.createElement("button");
        cntt.setAttribute("class", "btn");
        cntt.setAttribute("id", "cntt");
        cntt.innerHTML = "ADD To Cart";
        cntt.addEventListener("click", () => {
          element.count++;
          updateCart();
        });
        const img = document.createElement("img");
        applyStyles(img, { width: "100%", height: "auto" });
        img.src = element.img;
        const price = document.createElement("p");
        price.textContent = `Price: ₹${element.price}`;
        div.appendChild(img);
        div.appendChild(name);
        div.appendChild(price);
        div.appendChild(cntt);
        itemsContainer.appendChild(div);
      });
      function updateCart() {
        const cartItemsContainer = document.getElementById("cart-items");
        cartItemsContainer.innerHTML = "";
        totalPrice = 0;
        items.forEach((element) => {
          if (element.count > 0) {
            const li = document.createElement("li");
            const itemContainer = document.createElement("div");
            applyStyles(itemContainer, {
              display: "flex",
              justifyContent: "space-between",
              alignItems: "center",
            });
            const itemName = document.createElement("span");
            itemName.textContent = `${element.name}`;
            const btnGroup = document.createElement("div");
            applyStyles(btnGroup, { display: "flex", alignItems: "center" });
            const cnt = document.createElement("button");
            bnt_style = {
              margin: "0 5px",
              padding: "auto 10px",
              border: "1px solid #ccc",
              borderRadius: "4px",
            };
            applyStyles(cnt, bnt_style);
            cnt.innerText = element.count;
            const inc = document.createElement("button");
            applyStyles(inc, bnt_style);
            inc.innerHTML = "+";
            inc.addEventListener("click", () => {
              element.count++;
              updateCart();
            });
            const dec = document.createElement("button");
            applyStyles(dec, bnt_style);
            dec.innerHTML = "-";
            dec.addEventListener("click", () => {
              element.count = element.count - 1 < 0 ? 0 : element.count - 1;
              updateCart();
            });
            btnGroup.appendChild(inc);
            btnGroup.appendChild(cnt);
            btnGroup.appendChild(dec);
            itemContainer.appendChild(itemName);
            itemContainer.appendChild(btnGroup);
            li.appendChild(itemContainer);
            cartItemsContainer.appendChild(li);
            totalPrice += element.price * element.count;
          }
        });
        const totalPriceDisplay = document.getElementById("total-price");
        totalPriceDisplay.textContent = `Total Price: ₹${totalPrice}`;
      }
    </script>
  </body>
</html>
